<div class="main-content">
    <div class="container-fluid">
        <div class="row" *ngIf="isAdmin">
            
            <div class="col-lg-3 col-md-6 col-sm-6" style="cursor: pointer;" (click)="createRaffle()">
                <div class="card card-stats">
                    <div class="card-header card-header-icon">
                        <div class="card-icon">
                            <i class="material-icons">add_circle_outline</i>
                        </div>
                        <h3 class="card-title">Nuevo Sorteo
                        </h3>
                    </div>
                    <div class="card-footer">
                        <div class="stats">
                            <i class="material-icons">addchart</i>Crear sorteo
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-sm-12" style="text-align: center;" *ngIf="!listRaffles.length">
            Sin sorteos
        </div>
        <div class="row" *ngIf="listRaffles.length">
            <div class="col-md-4" *ngFor="let raff of listRaffles; let idx = index">
                <div class="card card-chart">
                    
                    <div class="card-header" style="align-self: center;" >
                        <div *ngIf="raff.retreivedImage">
                            <img [src]="raff.retreivedImage" height="150px">
                        </div>
                        <div *ngIf="!raff.image">
                            <a href="javascript:void(0)" >
                                <img class="img" src="./assets/img/pngegg.png" height="150px"/>
                            </a>
                        </div>
                    </div>
                    <div class="card-body">
                        <h4 class="card-title">{{raff.name}}</h4>
                        <p class="card-category">
                            <span class="text-success">   {{raff.selledPercentage}}%   </span> 
                            <span *ngIf="raff.status=='Activo'" style="text-align: right; padding-left: 54%;">   Inicio: {{raff.date}}  </span> 
                            <span *ngIf="raff.status!='Activo'" style="text-align: right; padding-left: 68%;">   Ganador: {{raff.winner}}  </span> 
                            
                        </p>
                        
                    </div>
                    <div class="card-footer">
                        <div class="stats" *ngIf="raff.status=='Activo'">
                            <a (click)="assignNumber(raff)" style="cursor: pointer;">
                                <i class="material-icons" style="padding-bottom: 10px;">monetization_on</i> Participar
                            </a>
                        </div>
                        <div class="stats" *ngIf="raff.status!='Activo'">
                            <a>
                                <i class="material-icons" style="padding-bottom: 10px;">check_circle_outline</i> Finalizado
                            </a>
                        </div>
                        <div class="stats" *ngIf="isAdmin">
                            <a (click)="editRaffle(raff)" style="cursor: pointer;">
                                <i class="material-icons" style="padding-bottom: 10px;">create</i> Editar
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>        
    </div>
  </div>
  